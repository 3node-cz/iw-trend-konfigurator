/* Print Styles for Configuration PDF Export */
/* These styles are injected into document head with .universal-configurator prefix */

@media print {
  /* Hide everything except configurator */
  *:not(:is(.universal-configurator, .universal-configurator *, :has(.universal-configurator))) {
    display: none !important;
  }

  /* Clean up configurator container for print - override Liquid template styles */
  .universal-configurator {
    border: none !important;
    margin: 0 !important;
    padding: 0 !important;
    border-radius: 0 !important;
    background: white !important;
  }

  /* Hide navigation, buttons, and interactive elements */
  .universal-configurator .no-print {
    display: none !important;
  }

  /* Hide helper messages */
  .universal-configurator .print-hide-message {
    display: none !important;
  }

  /* Show print-only elements */
  .universal-configurator .print-only {
    display: block !important;
  }

  /* Page setup */
  @page {
    size: A4;
    margin: 15mm;
  }

  /* Remove body/html margins and padding */
  html, body {
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
  }

  /* Remove Shopify section spacing (outside Shadow DOM) */
  .shopify-section,
  .cc-main-page,
  .section,
  .section--template,
  .main-content,
  .page-width {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Remove spacing from all parent containers */
  .universal-configurator,
  .universal-configurator::before,
  .universal-configurator::after {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Remove spacing from any divs that might wrap the configurator */
  div:has(.universal-configurator) {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Nuclear option: remove ALL spacing from visible elements */
  *:is(.universal-configurator, :has(.universal-configurator)) {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Target the direct React root container */
  #react-root-configurator,
  [id^="react-root-"] {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Remove ALL margin and padding from everything visible */
  body > *:not(script):not(style) {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* General print styles - smaller font for better PDF layout */
  .universal-configurator * {
    font-size: 9pt;
  }

  /* Remove container padding for print */
  .universal-configurator .MuiContainer-root {
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-top: 0 !important;
  }

  /* Typography adjustments - smaller fonts for print */
  .universal-configurator h1,
  .universal-configurator h2,
  .universal-configurator h3,
  .universal-configurator h4,
  .universal-configurator h5,
  .universal-configurator h6 {
    page-break-after: avoid;
    page-break-inside: avoid;
  }

  .universal-configurator h1,
  .universal-configurator .MuiTypography-h1 {
    font-size: 18pt !important;
  }

  .universal-configurator h2,
  .universal-configurator .MuiTypography-h2 {
    font-size: 16pt !important;
  }

  .universal-configurator h3,
  .universal-configurator .MuiTypography-h3 {
    font-size: 14pt !important;
  }

  .universal-configurator h4,
  .universal-configurator .MuiTypography-h4 {
    font-size: 12pt !important;
  }

  .universal-configurator h5,
  .universal-configurator .MuiTypography-h5 {
    font-size: 11pt !important;
  }

  .universal-configurator h6,
  .universal-configurator .MuiTypography-h6 {
    font-size: 10pt !important;
  }

  .universal-configurator .MuiTypography-body1 {
    font-size: 9pt !important;
  }

  .universal-configurator .MuiTypography-body2 {
    font-size: 8pt !important;
  }

  .universal-configurator .MuiTypography-caption {
    font-size: 7pt !important;
  }

  /* Smaller table text */
  .universal-configurator .MuiTableCell-root {
    font-size: 8pt !important;
    padding: 4px 8px !important;
  }

  .universal-configurator .MuiTableCell-head {
    font-size: 8.5pt !important;
    font-weight: 600 !important;
  }

  /* Remove shadows and backgrounds for cleaner print */
  .universal-configurator .MuiPaper-root {
    box-shadow: none !important;
    border: 1px solid #ddd;
  }

  /* Make sure tables are visible */
  .universal-configurator .MuiTableContainer-root {
    overflow: visible !important;
  }

  /* Alert boxes */
  .universal-configurator .MuiAlert-root {
    border: 1px solid #ccc;
    border-left: 4px solid #2196f3;
    padding: 8px;
    margin: 8px 0;
  }

  /* Chips and badges */
  .universal-configurator .MuiChip-root {
    border: 1px solid currentColor;
  }

  /* Cutting diagrams - scale down if needed */
  .universal-configurator svg {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Hide overflow scrolls */
  .universal-configurator * {
    overflow: visible !important;
  }

  /* Links */
  .universal-configurator a[href]:after {
    content: none !important;
  }

  /* Page break control - keep sections together */

  /* Paper components (main section blocks) - never break inside */
  .universal-configurator .MuiPaper-root {
    page-break-inside: avoid;
    break-inside: avoid;
    page-break-before: auto;
    page-break-after: auto;
  }

  /* Grid items - keep together */
  .universal-configurator .MuiGrid-root[class*="MuiGrid-item"] {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Grid containers - allow breaks between items */
  .universal-configurator .MuiGrid-container {
    page-break-inside: auto;
    break-inside: auto;
  }

  /* Alert boxes - keep together */
  .universal-configurator .MuiAlert-root {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Table rows - keep together */
  .universal-configurator .MuiTableRow-root {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Tables - allow breaks between rows if needed */
  .universal-configurator table {
    width: 100%;
    border-collapse: collapse;
    page-break-inside: auto;
  }

  .universal-configurator thead {
    display: table-header-group;
  }

  .universal-configurator tr {
    page-break-inside: avoid;
    break-inside: avoid;
    page-break-after: auto;
  }

  /* Box components - allow breaks */
  .universal-configurator .MuiBox-root {
    page-break-inside: auto;
    page-break-before: auto;
  }

  /* Cutting Pieces Table - Compact Print View */

  /* Hide less critical columns in print */
  .universal-configurator table th:has([data-print-hide="true"]),
  .universal-configurator table td:has([data-print-hide="true"]) {
    display: none !important;
  }

  /* More compact table cells for cutting pieces table */
  .universal-configurator .MuiTableCell-root {
    padding: 2px 4px !important;
    font-size: 7pt !important;
    white-space: nowrap;
  }

  .universal-configurator .MuiTableCell-head {
    padding: 3px 4px !important;
    font-size: 7.5pt !important;
  }

  /* Compact column widths for print */
  .universal-configurator table {
    table-layout: fixed;
    width: 100%;
  }

  /* Specific column widths for cutting pieces table */
  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(1),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(1) {
    width: 15%; /* Part Name */
  }

  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(2),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(2) {
    width: 8%; /* Length */
  }

  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(3),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(3) {
    width: 8%; /* Width */
  }

  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(4),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(4) {
    width: 6%; /* Quantity */
  }

  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(5),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(5) {
    width: 12%; /* Options */
  }

  /* Edge columns - very compact */
  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(6),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(6),
  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(7),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(7),
  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(8),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(8),
  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(9),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(9),
  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(10),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(10) {
    width: 5%; /* Each edge column */
  }

  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(11),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(11) {
    width: 6%; /* Block */
  }

  .universal-configurator table[data-table="cutting-pieces"] th:nth-child(12),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-child(12) {
    width: 20%; /* Notes */
    white-space: normal !important;
    word-wrap: break-word;
  }

  /* Hide preview column in print */
  .universal-configurator table[data-table="cutting-pieces"] th:nth-last-child(1),
  .universal-configurator table[data-table="cutting-pieces"] td:nth-last-child(1) {
    display: none !important;
  }

  /* Abbreviate edge column headers for print */
  .universal-configurator table[data-table="cutting-pieces"] th span[data-full-text] {
    display: none;
  }

  .universal-configurator table[data-table="cutting-pieces"] th span[data-abbr-text] {
    display: inline;
  }
}

/* Default state - hide print-only elements */
@media screen {
  .universal-configurator .print-only {
    display: none !important;
  }
}
